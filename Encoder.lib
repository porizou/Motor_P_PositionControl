https://os.mbed.com/users/porizou3/code/Encoder/#6d62a5947f59
